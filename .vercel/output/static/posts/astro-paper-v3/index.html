<!DOCTYPE html><html lang="zh-CN" class="scroll-smooth"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="theme" content="light"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="canonical" href="https://astro.build/posts/astro-paper-v3/"><meta name="generator" content="Astro v4.4.4"><!-- General meta tags --><title>Blog - AstroPaper 3.0</title><meta name="title" content="Blog - AstroPaper 3.0"><meta name="description" content="AstroPaper Version 3: Elevating Your Web Experience with Astro v3 and Seamless View Transitions"><meta name="auth" content="Sat Naing"><!-- Sitemap --><link rel="sitemap" href="/sitemap-index.xml"><!-- open graph --><meta property="og:title" content="Blog - AstroPaper 3.0"><meta property="og:description" content="AstroPaper Version 3: Elevating Your Web Experience with Astro v3 and Seamless View Transitions"><meta property="og:url" content="https://astro.build/posts/astro-paper-v3/"><meta property="og:image" content="https://github.com/satnaing/astro-paper/assets/53733092/1ef0cf03-8137-4d67-ac81-84a032119e3a"><!-- Article Published/Modified time --><meta property="article:published_time" content="2023-09-25T10:25:54.547Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://astro.build/posts/astro-paper-v3/"><meta property="twitter:title" content="Blog - AstroPaper 3.0"><meta property="twitter:description" content="AstroPaper Version 3: Elevating Your Web Experience with Astro v3 and Seamless View Transitions"><meta property="twitter:image" content="https://github.com/satnaing/astro-paper/assets/53733092/1ef0cf03-8137-4d67-ac81-84a032119e3a"><!-- scripts --><script src="/toggle-theme.js"></script><link rel="stylesheet" href="/_astro/index.DakE2zPI.css" />
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><script type="module" src="/_astro/hoisted.DqR2iBSn.js"></script><style>[data-astro-transition-scope="astro-etz2kkg3-1"] { view-transition-name: astropaper-30; }@layer astro { ::view-transition-old(astropaper-30) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(astropaper-30) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(astropaper-30) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(astropaper-30) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-etz2kkg3-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-etz2kkg3-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-etz2kkg3-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-etz2kkg3-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-etz2kkg3-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-etz2kkg3-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-etz2kkg3-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-etz2kkg3-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-s645wb5z-2"] { view-transition-name: how-to-configure-astropaper-theme; }@layer astro { ::view-transition-old(how-to-configure-astropaper-theme) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(how-to-configure-astropaper-theme) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(how-to-configure-astropaper-theme) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(how-to-configure-astropaper-theme) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-s645wb5z-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-s645wb5z-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-s645wb5z-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-s645wb5z-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-s645wb5z-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-s645wb5z-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-s645wb5z-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-s645wb5z-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-s645wb5z-3"] { view-transition-name: how-to-use-git-hooks-to-set-created-and-modified-dates; }@layer astro { ::view-transition-old(how-to-use-git-hooks-to-set-created-and-modified-dates) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(how-to-use-git-hooks-to-set-created-and-modified-dates) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(how-to-use-git-hooks-to-set-created-and-modified-dates) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(how-to-use-git-hooks-to-set-created-and-modified-dates) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-s645wb5z-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-s645wb5z-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-s645wb5z-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-s645wb5z-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-s645wb5z-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-s645wb5z-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-s645wb5z-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-s645wb5z-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-4acxdjum-4"] { view-transition-name: release; }@layer astro { ::view-transition-old(release) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(release) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(release) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(release) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-4acxdjum-4"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-4acxdjum-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-4acxdjum-4"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-4acxdjum-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-4acxdjum-4"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-4acxdjum-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-4acxdjum-4"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-4acxdjum-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body> <meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate">  <div class="flex justify-between items-center"> <a href="/" class="text-black dark:text-sky-500 font-semibold text-xl">@Developer27149</a> <div class="flex gap-4"> <i class="i-mdi-keyboard-backspace cursor-pointer hover:scale-110 text-sky-400 transition-all" id="_back_"></i> <a href="/search" class="i-mdi-magnify hover:scale-110 text-sky-500 transition-all"></a><a href="/rss.xml" class="i-mdi-rss-box hover:scale-110 text-sky-500 transition-all"></a><a href="https://twitter.com/miaocai0" target="_blank" class="i-mdi-twitter text-sky-500"></a><span class="theme-toggle cursor-pointer flex items-center hover:scale-110 text-sky-500 transition-all pr-2"><i class="i-mdi-lightbulb-on-10 dark:inline-block hidden"></i><i class="i-mdi-weather-night dark:hidden inline-block"></i></span> </div> </div>  <h1 class="text-4xl pt-8" data-astro-transition-scope="astro-etz2kkg3-1">AstroPaper 3.0</h1> <div class="flex items-center gap-1 mb-4"> <i class="i-mdi-calendar-month"></i> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="2qliL2" component-url="/_astro/TimeAgo.Blzcs47r.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;date&quot;:[3,&quot;2023-09-25T10:25:54.547Z&quot;]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;TimeAgo&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </div> <article id="content" class="prose lg:prose-xl dark:prose-invert prose-a:text-blue-600 hover:prose-a:text-blue-500"> <p>We‚Äôre excited to announce the release of AstroPaper v3, packed with new features, enhancements, and bug fixes to elevate your web development experience. Let‚Äôs dive into the highlights of this release:</p>
<!-- ![AstroPaper v3](@assets/images/AstroPaper-v3.png) -->
<h2 id="table-of-contents">Table of contents</h2>
<p></p><details><summary>Open Table of contents</summary><p></p>
<ul>
<li><a href="#features--changes">Features &#x26; Changes</a>
<ul>
<li><a href="#astro-v3-integration">Astro v3 Integration</a></li>
<li><a href="#update-og-image-generation-logic">Update OG Image Generation Logic</a></li>
<li><a href="#theme-meta-tag">Theme meta tag</a></li>
</ul>
</li>
<li><a href="#other-changes">Other Changes</a>
<ul>
<li><a href="#astro-prettier-plugin">Astro Prettier Plugin</a></li>
<li><a href="#minor-style-changes">Minor Style Changes</a></li>
</ul>
</li>
<li><a href="#upgrade-to-astropaper-v3">Upgrade to AstroPaper v3</a></li>
<li><a href="#option-1-fresh-restart-recommended">Option 1: Fresh Restart (recommended)</a></li>
<li><a href="#option-2-upgrade-using-git">Option 2: Upgrade using Git</a></li>
<li><a href="#outro">Outro</a></li>
</ul>
<p></p></details><p></p>
<h2 id="features--changes">Features &#x26; Changes</h2>
<h3 id="astro-v3-integration">Astro v3 Integration</h3>
<video autoplay loop muted plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/18fdb604-1ca3-41a0-8372-1367759091ff" type="video/mp4">
  <!-- <source src="/assets/docs/astro-paper-v3-view-transitions-demo.mp4" type="video/mp4"> -->
</video>
<p>AstroPaper now fully supports <a href="https://astro.build/blog/astro-3/">Astro v3</a>, offering improved performance and rendering speed.</p>
<p>Besides, we‚Äôve added support for Astro‚Äôs <a href="https://docs.astro.build/en/guides/view-transitions/">ViewTransitions API</a>, allowing you to create captivating and dynamic transitions between views.</p>
<p>In the ‚ÄúRecent Section‚Äù, only non-featured posts will be displayed to avoid duplications and better support for ViewTransitions API.</p>
<h3 id="update-og-image-generation-logic">Update OG Image Generation Logic</h3>
<p><img src="https://user-images.githubusercontent.com/40914272/269252964-a0dc6735-80f7-41ed-8e74-4d4d70f96891.png" alt="Example OG Image"></p>
<p>We‚Äôve updated the logic for automatic OG image generation, making it even more reliable and efficient. Besides, it now supports special characters in post titles, ensuring accurate, flexible and eye-catching social media previews.</p>
<p><code>SITE.ogImage</code> is now optional. If it is not specified, AstroPaper will automatically generate an OG image using <code>SITE.title</code>, <code>SITE.desc</code> and <code>SITE.website</code></p>
<h3 id="theme-meta-tag">Theme meta tag</h3>
<p>The theme-color meta tag has been added to dynamically adapt to theme switches, ensuring a seamless user experience.</p>
<blockquote>
<p>Notice the difference at the top</p>
</blockquote>
<p><strong><em>AstroPaper v2 theme switch</em></strong></p>
<video autoplay loop muted plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/3ab5a1e8-1891-4264-a5bb-0ded69143c1a" type="video/mp4">
</video>
<p><strong><em>AstroPaper v3 theme switch</em></strong></p>
<video autoplay loop muted plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/8ac9deb8-d1f8-4029-86bd-6aa0def380b4" type="video/mp4">
</video>
<h2 id="other-changes">Other Changes</h2>
<h3 id="astro-prettier-plugin">Astro Prettier Plugin</h3>
<p>Astro Prettier Plugin is installed out-of-the-box in order to keep the project tidy and organized.</p>
<h3 id="minor-style-changes">Minor Style Changes</h3>
<p>The single-line code block wrapping issue has been solved, making your code snippets look pristine.</p>
<p>Update nav style CSS to allow adding more nav links to the navigation.</p>
<h2 id="upgrade-to-astropaper-v3">Upgrade to AstroPaper v3</h2>
<blockquote>
<p>This section is only for those who want to upgrade AstroPaper v3 from the older versions.</p>
</blockquote>
<p>This section will help you migrate from AstroPaper v2 to AstroPaper v3.</p>
<p>Before reading the rest of the section, you might also want to check <a href="https://astro-paper.pages.dev/posts/how-to-update-dependencies/">this article</a> for upgrading dependencies and AstroPaper.</p>
<h2 id="option-1-fresh-restart-recommended">Option 1: Fresh Restart (recommended)</h2>
<p>In this release, a lot of changes have been made_ replacing old Astro APIs with newer APIs, bug fixes, new features etc. Thus, if you are someone who didn‚Äôt make customization very much, you should follow this approach.</p>
<p><strong><em>Step 1: Keep all your updated files</em></strong></p>
<p>It‚Äôs important to keep all the files which have been already updated. These files include</p>
<ul>
<li><code>/src/config.ts</code> (didn‚Äôt touch in v3)</li>
<li><code>/src/styles/base.css</code> (minor changes in v3; mentioned below)</li>
<li><code>/src/assets/</code> (didn‚Äôt touch in v3)</li>
<li><code>/public/assets/</code> (didn‚Äôt touch in v3)</li>
<li><code>/content/blog/</code> (it‚Äôs your blog content directory ü§∑üèª‚Äç‚ôÇÔ∏è)</li>
<li>Any other customizations you‚Äôve made.</li>
</ul>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6272A4">/* file: /src/styles/base.css */</span></span>
<span class="line"><span style="color:#FF79C6">@layer</span><span style="color:#F8F8F2"> base {</span></span>
<span class="line"><span style="color:#6272A4">  /* Other Codes */</span></span>
<span class="line"><span style="color:#FF79C6;font-style:italic">  ::</span><span style="color:#50FA7B;font-style:italic">-webkit-scrollbar-thumb</span><span style="color:#FF79C6;font-style:italic">:</span><span style="color:#50FA7B;font-style:italic">hover</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    @apply bg-skin-card-muted;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">  /* Old code</span></span>
<span class="line"><span style="color:#6272A4">  code {</span></span>
<span class="line"><span style="color:#6272A4">    white-space: pre;</span></span>
<span class="line"><span style="color:#6272A4">    overflow: scroll;</span></span>
<span class="line"><span style="color:#6272A4">  } </span></span>
<span class="line"><span style="color:#6272A4">  */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">  /* New code */</span></span>
<span class="line"><span style="color:#FF79C6">  code</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#FF79C6">  blockquote</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FD">    word-wrap</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> break-word</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#FF79C6">  pre > code</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FD">    white-space</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> pre</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">@layer</span><span style="color:#F8F8F2"> components {</span></span>
<span class="line"><span style="color:#6272A4">  /* other codes */</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p><strong><em>Step 1: Replace everything else with AstroPaper v3</em></strong></p>
<p>In this step, replace everything_ except above files/directories (plus your customized files/directories)_ with AstroPaper v3.</p>
<p><strong><em>Step 3: Schema Updates</em></strong></p>
<p>Keep in mind that <code>/src/content/_schemas.ts</code> has been replaced with <code>/src/content/config.ts</code>.</p>
<p>Besides, there is no longer <code>BlogFrontmatter</code> type exported from <code>/src/content/config.ts</code>.</p>
<p>Therefore, all the <code>BlogFrontmatter</code> type inside files need to be updated with <code>CollectionEntry&#x3C;"blog">["data"]</code>.</p>
<p>For example: <code>src/components/Card.tsx</code></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6272A4">// AstroPaper v2</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#FF79C6"> type</span><span style="color:#F8F8F2"> { BlogFrontmatter } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">@content/_schemas</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> interface</span><span style="color:#8BE9FD;font-style:italic"> Props</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">  href</span><span style="color:#FF79C6">?:</span><span style="color:#8BE9FD;font-style:italic"> string</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  frontmatter</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> BlogFrontmatter</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  secHeading</span><span style="color:#FF79C6">?:</span><span style="color:#8BE9FD;font-style:italic"> boolean</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6272A4">// AstroPaper v3</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#FF79C6"> type</span><span style="color:#F8F8F2"> { CollectionEntry } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">astro:content</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> interface</span><span style="color:#8BE9FD;font-style:italic"> Props</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">  href</span><span style="color:#FF79C6">?:</span><span style="color:#8BE9FD;font-style:italic"> string</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  frontmatter</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> CollectionEntry</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">>[</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">data</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">];</span></span>
<span class="line"><span style="color:#F8F8F2">  secHeading</span><span style="color:#FF79C6">?:</span><span style="color:#8BE9FD;font-style:italic"> boolean</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<h2 id="option-2-upgrade-using-git">Option 2: Upgrade using Git</h2>
<p>This approach is not recommended for most users. You should do the ‚ÄúOption 1‚Äù if you can. Only do this if you know how to resolve merge conflicts and you know what you‚Äôre doing.</p>
<p>Actually, I‚Äôve already written a blog post for this case and you can check out <a href="https://astro-paper.pages.dev/posts/how-to-update-dependencies/#updating-astropaper-using-git">here</a>.</p>
<h2 id="outro">Outro</h2>
<p>Ready to explore the exciting new features and improvements in AstroPaper v3? Start <a href="https://github.com/satnaing/astro-paper">using AstroPaper</a> now.</p>
<p>For other bug fixes and integration updates, check out the <a href="https://github.com/satnaing/astro-paper/releases/tag/v3.0.0">release notes</a> to learn more.</p>
<p>If you encounter any bugs or face difficulties during the upgrade process, please feel free to open an issue or start a discussion on <a href="https://github.com/satnaing/astro-paper">GitHub</a>.</p> </article>  <ul class="flex gap-4 mb-4 mx-4 italic animate-flip-up py-12 justify-end"><a class="hover:underline underline-offset-2 transition-all flex items-center" href="/tags/release" class="inline-block"> <span class="opacity-80">#</span> <span data-astro-transition-scope="astro-4acxdjum-4"> release </span> </a></ul> <div class="font-semibold text-2xl dark:text-teal-400 text-black mb-4">
Recent Blog
</div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="relative rounded-md overflow-hidden group"><a href="/posts/how-to-configure-astropaper-theme" data-astro-transition-scope="astro-s645wb5z-2"><img src="https://user-images.githubusercontent.com/53733092/215771435-25408246-2309-4f8b-a781-1f3d93bdf0ec.png" class="object-cover w-full h-48 group-hover:scale-110 transition-transform"><p class="absolute inset-x-1 bottom-1 bg-gray-900/10 text-white truncate text-center" title="How to configure AstroPaper theme">How to configure AstroPaper theme</p></a></div><div class="relative rounded-md overflow-hidden group"><a href="/posts/setting-dates-via-git-hooks" data-astro-transition-scope="astro-s645wb5z-3"><img src="https://user-images.githubusercontent.com/53733092/215771435-25408246-2309-4f8b-a781-1f3d93bdf0ec.png" class="object-cover w-full h-48 group-hover:scale-110 transition-transform"><p class="absolute inset-x-1 bottom-1 bg-gray-900/10 text-white truncate text-center" title="How to use Git Hooks to set Created and Modified Dates">How to use Git Hooks to set Created and Modified Dates</p></a></div></div> <button id="back-to-top" class="fixed bottom-4 right-4 bg-skin-base opacity-35 hover:opacity-100 text-teal-400 p-2 rounded-full shadow-lg hover:shadow-xl transition-all z-50"> <i class="i-mdi-arrow-up-circle-outline text-2xl"></i> </button>  <footer class="text-sm pt-32 text-center items-center flex gap-1 justify-center md:text-left pb-8 sm:pb-0"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="underline underline-offset-2 pr-2">
CC BY-NC-SA 4.0
</a>
2024 - PRESENT ¬© Developer27149<a target="_blank" href="https://github.com/Developer27149" class="hidden md:inline-block"></a> <a href="https://twitter.com/miaocai0" class="i-mdi-twitter text-sky-500"></a> </footer> </body></html> <script>
  document.addEventListener("DOMContentLoaded", () => {
    const back = document.getElementById("_back_");
    back.addEventListener("click", () => {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        window.location.href = window.location.origin;
      }
    });
  });

  function addHeadingLinks() {
    let headings = Array.from(document.querySelectorAll("h2, h3, h4, h5, h6"));
    for (let heading of headings) {
      heading.classList.add("group");
      let link = document.createElement("a");
      link.innerText = "#";
      link.className = "heading-link hidden group-hover:inline-block ml-2";
      link.href = "#" + heading.id;
      link.ariaHidden = "true";
      heading.appendChild(link);
    }
  }
  addHeadingLinks();

  /** Attaches copy buttons to code blocks in the document,
   * allowing users to copy code easily. */
  function attachCopyButtons() {
    let copyButtonLabel = "Copy";
    let codeBlocks = Array.from(document.querySelectorAll("pre"));

    for (let codeBlock of codeBlocks) {
      codeBlock.classList.add("group");
      let wrapper = document.createElement("div");
      wrapper.style.position = "relative";

      let copyButton = document.createElement("button");
      copyButton.className =
        "bg-green-500 text-white absolute right-1 top-1 transition-all opacity-0 group-hover:opacity-100 rounded bg-skin-card px-2 py-1 text-xs leading-4 text-skin-base font-medium";
      copyButton.innerHTML = copyButtonLabel;
      codeBlock.setAttribute("tabindex", "0");
      codeBlock.appendChild(copyButton);

      // wrap codebock with relative parent element
      codeBlock?.parentNode?.insertBefore(wrapper, codeBlock);
      wrapper.appendChild(codeBlock);

      copyButton.addEventListener("click", async () => {
        await copyCode(codeBlock, copyButton);
      });
    }

    async function copyCode(block, button) {
      let code = block.querySelector("code");
      let text = code?.innerText;

      await navigator.clipboard.writeText(text ?? "");

      // visual feedback that task is completed
      button.innerText = "Copied";

      setTimeout(() => {
        button.innerText = copyButtonLabel;
      }, 700);
    }
  }
  attachCopyButtons();

  /** Scrolls the document to the top when
   * the "Back to Top" button is clicked. */
  function backToTop() {
    document.querySelector("#back-to-top")?.addEventListener("click", () => {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    });
    document.addEventListener("scroll", () => {
      let backToTopButton = document.querySelector("#back-to-top");
      if (
        document.body.scrollTop > 100 ||
        document.documentElement.scrollTop > 100
      ) {
        backToTopButton.style.display = "block";
      } else {
        backToTopButton.style.display = "none";
      }
    });
  }
  backToTop();
</script>