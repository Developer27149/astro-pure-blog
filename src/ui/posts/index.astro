---
import type { CollectionEntry } from "astro:content";
import { format } from "date-fns";
import {slug as ghSlug } from 'github-slugger';
export interface Props {
  posts: CollectionEntry<"blog">[];
}

const { posts } = Astro.props;
---

<main>
  <h1
    class="inline-block py-24 text-2xl font-semibold origin-center hover:scale-105 transition-all"
  >
    BLOG
  </h1>
  <ul>
    {
      posts.map(({ slug, data }, idx) => (
        <li
          class="group flex items-start gap-6 md:gap-8 py-2 animate-fade-left"
          style={`animation-delay:${idx * 70}ms`}
          transition:name={ghSlug(slug)}
        >
          <span class=" hidden md:inline-block  border border-gray-600 rounded-sm  p-[2px] px-[4px] skew-x-6">
            {format(
              new Date(data.modDatetime ?? data.pubDatetime),
              "yyyy/MM/dd"
            )}
          </span>
          <span class="md:hidden inline-block border border-gray-600 shadow shadow-gray-900 rounded-sm p-[2px] px-[4px] skew-x-6">
            {format(new Date(data.modDatetime ?? data.pubDatetime), "yyyy/MM")}
          </span>
          <a
            class="group-hover:underline underline-offset-4 font-thin decoration-gray-600 transition-all cursor-pointer"
            style=""
            href={`/posts/${slug}`}
          >
            {slug}
          </a>
        </li>
      ))
    }
  </ul>
</main>
